class QueryStringHandler{present(){return-1!==window.location.href.indexOf("?")}isValid(){if(this.present()){var r=!1,e=this.parts("query").toString(),t=this.toKeyValuesArray(),i=e.split(/\&/g).length,n=e.split(/\=/g).length;return 2===t.length&&-1!=e.indexOf("=")?r=!0:t.length%2==0&&i===n-1&&(r=!0),r}throw"Query string not found."}hasDuplicateKeys(){var r=!1;if(this.present()&&this.isValid())return this.keys().forEach((e,t)=>{var i=this.keys();i.splice(t,1),i.includes(e)&&(r=!0)}),r;throw"Query string not found or is not valid."}getDuplicateKeys(){if(this.present()&&this.isValid()){var r=this.keys(),e=[],t=[];return r.forEach(r=>{e.includes(r)&&t.push(r),e.push(r)}),0!==t.length&&t}throw"Query string not found or is not valid."}parts(r){if(1!=arguments.length)throw"Invalid arguments number: 1 required";if(void 0===r||!["url","query"].includes(r))throw"Invalid argument";if(!["string"].includes(typeof r))throw"Invalid data type at parameter 1 (string required)";var e=window.location.href.split("?");return"url"===r?e[0]:"query"===r&&this.present()?e[1]:void 0}toKeyValuesArray(){if(this.present())return this.parts("query").split(/\?|\=|\&/g);throw"Query string not found."}keys(){if(this.isValid()){var r=[];return this.toKeyValuesArray().forEach(function(e,t){t%2==0&&r.push(e)}),r}throw"Invalid query string."}values(){if(this.isValid()){var r=[];return this.toKeyValuesArray().forEach(function(e,t){t%2!=0&&r.push(e)}),r}throw"Invalid query string."}getValueFromKey(r){if(1!=arguments.length)throw"Invalid arguments number: 1 required";if(void 0===r)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(this.present()){var e=this.toKeyValuesArray(),t=[];return!!e.includes(r)&&(e.forEach((i,n)=>{n%2==0&&i==r&&n!=e.length&&t.push(e[n+1])}),1===t.length?t[0]:t.length>1&&t)}throw"Query string not found."}getKeyFromValue(r){if(1!=arguments.length)throw"Invalid arguments number: 1 required";if(void 0===r)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(this.present()){var e=this.toKeyValuesArray(),t=[];return!!e.includes(r)&&(e.forEach((i,n)=>{n%2!=0&&i==r&&t.push(e[n-1])}),1===t.length?t[0]:t.length>1&&t)}throw"Query string not found."}toObject(){if(this.present()&&this.isValid()){var r,e={};return this.toKeyValuesArray().forEach(function(t,i){i%2==0?(r=t,e[t]=null):e[r]=t}),e}throw"Query string not found or is malformed."}append(r,e){if(2!=arguments.length)throw"Invalid arguments number: 2 required";if(void 0===r||void 0===e)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(!["string","number"].includes(typeof e))throw"Invalid data type at parameter 2 (string or number required)";if(this.present()){var t="?"+this.parts("query")+"&"+r+"="+e;window.history.replaceState("","",t)}else window.history.replaceState("","","?"+r+"="+e);return!0}removeKeyValue(r){if(1!=arguments.length)throw"Invalid arguments number: 1 required";if(void 0===r)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(this.present()&&0!=this.getKeyFromValue(r)){var e=this.parts("query"),t=this.getValueFromKey(r),i="&"===e.charAt(e.indexOf(r)-1),n="&"===e.charAt(e.indexOf(t)+t.length);return 2===this.toKeyValuesArray().length?(window.history.replaceState("","",this.parts("url")),!0):(!0===i&&!0===n?e=e.replaceAll("&"+r+"="+t+"&",""):!0===i&&!1===n?e=e.replaceAll("&"+r+"="+t,""):!1===i&&!0===n&&(e=e.replaceAll(r+"="+t+"&","")),window.history.replaceState("","",this.parts("url")+"?"+e),!0)}throw"Could not find key in query string."}removeAll(){return window.history.replaceState("","",window.location.href.split("?")[0]),!0}updateKey(r,e){if(2!=arguments.length)throw"Invalid arguments number: 2 required";if(void 0===r||void 0===e)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(!["string","number"].includes(typeof e))throw"Invalid data type at parameter 2 (string or number required)";if(this.present()){var t=this.parts("query");return-1!=t.indexOf(r)&&(t=t.replaceAll(r,e),window.history.replaceState("","",this.parts("url")+"?"+t),!0)}throw"Query string not found."}updateValue(r,e){if(2!=arguments.length)throw"Invalid arguments number: 2 required";if(void 0===r||void 0===e)throw"Invalid argument";if(!["string","number"].includes(typeof r))throw"Invalid data type at parameter 1 (string or number required)";if(!["string","number"].includes(typeof e))throw"Invalid data type at parameter 2 (string or number required)";if(this.present()){var t=this.toKeyValuesArray();return t.forEach((i,n)=>{i===r&&t.indexOf(i)!=t.length&&(t[n+1]=e)}),this.replaceFullString(t),!0}throw"Query string not found."}replaceFullString(r){if(1!=arguments.length)throw"Invalid arguments number: 1 required";if(Array.isArray(r))var e="array";else if("object"==typeof r)e="object";if(!["array","object"].includes(e))throw"Argument must be an object or array containg key/value pairs";if("object"===e){Object.keys(r).forEach((e,t)=>{if("object"==typeof r[e])throw"Object must only contain key/value pairs; multi-level objects not allowed"});var t=[];Object.keys(r).forEach(e=>{t.push(e),t.push(r[e])}),r=t}var i="?";if(r.length%2==0)return r.forEach(function(r,e){i=e%2==0?i+r+"=":i+r+"&"}),i=i.substring(0,i.length-1),window.history.replaceState("","",this.parts("url")+i),!0;throw"Argument must contain an even number of key/value pairs"}convertToLowerCase(){if(this.present())return window.history.replaceState("","",this.parts("url")+"?"+this.parts("query").toLowerCase()),!0}}var query=new QueryStringHandler;